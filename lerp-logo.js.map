{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lerp-logo.coffee","webpack:///external \"preact\"","webpack:///external \"shader-box\"","webpack:///./logo-shader.glsl"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Box","Component","LerpLogo","Shader","h","lerp_shader","boundMethodCheck","instance","Constructor","Error","onClick","this","draw","[object Object]","_t","base","width","props","size","height","box","canvas","resize","clearColor","uv","context","premultipliedAlpha","antialias","depth","shader","source","uniforms","iTime","type","alpha","stage","time","state","add","_anim","Math","abs","requestAnimationFrame","clear","my_props","assign","defaultProps","require"],"mappings":"2BACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QA0DA,OArDAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,IAIAlC,IAAAmC,EAAA,qBClFA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,SAAAC,EAAAC,GAAA,KAAAD,aAAAC,GAAA,UAAAC,MAAA,oDAACL,IAAEH,aAAarC,EAAQ,MACvBuC,SAAOH,OAAOpC,EAAQ,IACvByC,EAAczC,EAAQ,IAEhBsC,QAANA,UAAuBD,yCAwCtBS,QAAAC,KAAAD,QAAAlB,KAAAmB,WAGAC,KAAAD,KAAAC,KAAApB,KAAAmB,MA1CAE,oBAoCC,GAnCAF,KAACG,GAAK,GACNH,KAACI,KAAKC,MAAQL,KAACM,MAAMC,MAAQ,GAC7BP,KAACI,KAAKI,OAASR,KAACM,MAAMC,MAAQ,GAE9BP,KAACS,IAAM,IAAIpB,GACVqB,OAAQV,KAACI,KACTO,QAAQ,EACRC,YAAa,EAAE,EAAE,EAAE,GACnBC,IAAK,EAAE,GACPC,SACCC,oBAAoB,EACpBC,WAAW,EACXC,OAAO,KAETjB,KAACkB,OAAS,IAAI1B,GACb2B,OAAQzB,EACR0B,UACCC,OACCC,KAAM,KACNhD,MAAO0B,KAACM,MAAM/B,GACfgD,OACCD,KAAM,KACNhD,MAAO,GACRiC,MACCe,KAAM,KACNhD,MAAO0B,KAACM,MAAMC,MAAQ,OAEzBP,KAACwB,OACAD,OAAQ,EACRE,MAAkB,EAAZzB,KAACM,MAAM/B,GACdyB,KAAC0B,OACAH,MAAOvB,KAACM,MAAMiB,MACdE,KAAMzB,KAACM,MAAM/B,GACdyB,KAACS,IAAIkB,IAAI3B,KAACkB,SAENlB,KAAC4B,aACJ5B,KAAC4B,OAAQ,EACT5B,KAACC,OACHC,wBAxCKX,GA0CJS,KAACC,OACFC,OACC,UA5CIX,GA4CAS,KAACI,QAGFyB,KAAKC,IAAI9B,KAACwB,MAAMC,KAAOzB,KAAC0B,MAAMD,MAAQ,KAASI,KAAKC,IAAI9B,KAACwB,MAAMD,MAAQvB,KAAC0B,MAAMH,OAAS,YAG1FvB,KAACwB,MAAMC,MAAsC,IAA7BzB,KAAC0B,MAAMD,KAAOzB,KAACwB,MAAMC,MACrCzB,KAACwB,MAAMD,OAAyC,IAA/BvB,KAAC0B,MAAMH,MAAQvB,KAACwB,MAAMD,OACvCvB,KAACkB,OAAOE,SAASC,MAAM/C,MAAQ0B,KAACwB,MAAMC,KACtCzB,KAACkB,OAAOE,SAASG,MAAMjD,MAAQ0B,KAACwB,MAAMD,MAEtCQ,sBAAsB/B,KAACC,MACvBD,KAACS,IAAIuB,QAAQ/B,KAAKD,KAACkB,QAEpBhB,oBAAsBI,GACrB,GAAGA,EAAMmB,OAAQzB,KAAC0B,MAAMD,YACvBzB,KAAC0B,MAAMD,KAAOnB,EAAMmB,KACpBzB,KAACC,OAIHC,OAASI,GACR,IAAA2B,SAAGjC,KAACI,OACHJ,KAACI,KAAKC,MAAQC,EAAMC,MAAQ,GAC5BP,KAACI,KAAKI,OAASF,EAAMC,MAAQ,GAC7BP,KAACkB,OAAOE,SAASb,KAAKjC,MAAQgC,EAAMC,MAAQ,IAC7C0B,GACC5B,MAAOC,EAAMC,MAAQ,GACrBC,OAAQF,EAAMC,MAAQ,IACvBxC,OAAOmE,OAAOD,EAAS3B,GAEvBb,EAAE,SAASwC,MAEJE,cACRZ,MAAO,EACPhD,EAAG,GAEJnB,EAAOD,QAAUoC,iBCrFjBnC,EAAAD,QAAAiF,QAAA,yBCAAhF,EAAAD,QAAAiF,QAAA,6BCAAhF,EAAAD,QAAA","file":"lerp-logo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","{h,Component} = require 'preact'\n{Shader,Box} = require 'shader-box'\nlerp_shader = require './logo-shader.glsl'\n\nclass LerpLogo extends Component\n\tcomponentDidMount: ->\n\t\t@_t = .1\n\t\t@base.width = @props.size || 50\n\t\t@base.height = @props.size || 50\n\t\t\n\t\t@box = new Box\n\t\t\tcanvas: @base\n\t\t\tresize: false\n\t\t\tclearColor: [0,0,0,0]\n\t\t\tuv: [1,1]\n\t\t\tcontext:\n\t\t\t\tpremultipliedAlpha: false\n\t\t\t\tantialias: no\n\t\t\t\tdepth: no\n\n\t\t@shader = new Shader\n\t\t\tsource: lerp_shader\n\t\t\tuniforms: \n\t\t\t\tiTime:\n\t\t\t\t\ttype: '1f'\n\t\t\t\t\tvalue: @props.t\n\t\t\t\talpha:\n\t\t\t\t\ttype: '1f'\n\t\t\t\t\tvalue: 0.0\n\t\t\t\tsize:\n\t\t\t\t\ttype: '1f'\n\t\t\t\t\tvalue: @props.size || 50\n\n\t\t@stage = \n\t\t\talpha: -4\n\t\t\ttime: @props.t * -1\n\t\t@state = \n\t\t\talpha: @props.alpha\n\t\t\ttime: @props.t\n\t\t@box.add(@shader)\n\n\t\tif !@_anim\n\t\t\t@_anim = true\n\t\t\t@draw()\n\tonClick: =>\n\t\t\n\t\t@draw()\n\tdraw: ()=>\n\t\tif !@base\n\t\t\treturn\n\t\t\n\t\tif Math.abs(@stage.time - @state.time) < 0.01 &&  Math.abs(@stage.alpha - @state.alpha) < 0.01\n\t\t\treturn\n\t\t\n\t\t@stage.time += (@state.time - @stage.time) * .1\n\t\t@stage.alpha += (@state.alpha - @stage.alpha) * .3\n\t\t@shader.uniforms.iTime.value = @stage.time\n\t\t@shader.uniforms.alpha.value = @stage.alpha\n\t\t\n\t\trequestAnimationFrame(@draw)\n\t\t@box.clear().draw(@shader)\n\t\n\tcomponentWillUpdate: (props)->\n\t\tif props.time != @state.time\n\t\t\t@state.time = props.time\n\t\t\t@draw()\n\n\t\t\t\n\n\trender: (props)->\n\t\tif @base\n\t\t\t@base.width = props.size || 50\n\t\t\t@base.height = props.size || 50\n\t\t\t@shader.uniforms.size.value = props.size || 50\n\t\tmy_props = \n\t\t\twidth: props.size || 50\n\t\t\theight: props.size || 50\n\t\tObject.assign my_props,props\n\t\t\n\t\th 'canvas',my_props\n\nLerpLogo.defaultProps = \n\talpha: 1\n\tt: 1\n\nmodule.exports = LerpLogo","module.exports = require(\"preact\");","module.exports = require(\"shader-box\");","module.exports = \"precision highp float;\\n\\nvarying vec2 v_uv;\\n\\nuniform float iTime;\\n\\nuniform float size;\\n\\nuniform float alpha;\\n\\n\\n#define SPEED 0.01\\n#define PI 3.141593\\n\\n\\n//signed distance to a 2D triangle by iq : https://www.shadertoy.com/view/XsXSz4\\nfloat sdTriangle( in vec2 p0, in vec2 p1, in vec2 p2, in vec2 p ){\\n    vec2 e0 = p1 - p0;\\n    vec2 e1 = p2 - p1;\\n    vec2 e2 = p0 - p2;\\n\\n    vec2 v0 = p - p0;\\n    vec2 v1 = p - p1;\\n    vec2 v2 = p - p2;\\n\\n    vec2 pq0 = v0 - e0*clamp( dot(v0,e0)/dot(e0,e0), 0.0, 1.0 );\\n    vec2 pq1 = v1 - e1*clamp( dot(v1,e1)/dot(e1,e1), 0.0, 1.0 );\\n    vec2 pq2 = v2 - e2*clamp( dot(v2,e2)/dot(e2,e2), 0.0, 1.0 );\\n    \\n    float s = sign( e0.x*e2.y - e0.y*e2.x );\\n    vec2 d = min( min( vec2( dot( pq0, pq0 ), s*(v0.x*e0.y-v0.y*e0.x) ),\\n                       vec2( dot( pq1, pq1 ), s*(v1.x*e1.y-v1.y*e1.x) )),\\n                       vec2( dot( pq2, pq2 ), s*(v2.x*e2.y-v2.y*e2.x) ));\\n\\n    return -sqrt(d.x)*sign(d.y);\\n}\\n\\nfloat pit = PI*2.0/3.0; \\n\\nfloat a0 = 0.*PI*2.0/3.0;\\nfloat a1 = 1.*PI*2.0/3.0; \\nfloat a2 = 2.*PI*2.0/3.0;\\n\\n\\nfloat b = 0.01;\\nfloat r = 0.2;\\n\\n\\nfloat drawStar(vec2 uv,float t,float bend){\\n\\n    float angle_offset = mod(sin(t),pit) - bend;\\n    vec2 v0 = vec2(cos(a0-angle_offset)*r,sin(a0-angle_offset)*r);\\n    vec2 v1 = vec2(cos(a1-angle_offset)*r,sin(a1-angle_offset)*r);\\n    vec2 v2 = vec2(cos(a2-angle_offset)*r,sin(a2-angle_offset)*r);\\n    return sdTriangle( v0, v1, v2, uv);   \\n}\\n\\nvoid main(){\\n    float t = iTime;\\n    float rot = sin(t);\\n    float alpha = clamp(alpha,0.0001,1.0);\\n    vec2 uv = -1.0 * vec2(v_uv-0.5)*0.5/alpha;\\n    float dist = pow(length(uv*5.0),.5);\\n    float twist = (rot/pit) * 6.0;\\n    float bend = dist * twist - twist*.75;\\n\\n\\n    float d = drawStar(uv,t,bend);\\n    float col = clamp(d*size*1.6,.0,1.);\\n\\n    // d = drawStar(uv,t+0.5,bend);\\n    // float col2 = clamp(d*size*1.6,.0,1.);\\n\\n    // d = drawStar(uv,-t*.5,bend);\\n    // float col3 = clamp(d*90.0,.0,1.);\\n\\n\\n\\n    gl_FragColor = vec4(vec3(0.25),1.0-col);\\n}\""],"sourceRoot":""}