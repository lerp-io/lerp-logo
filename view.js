!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=1)}([function(t,e,n){"use strict";n.r(e),n.d(e,"h",function(){return s}),n.d(e,"createElement",function(){return s}),n.d(e,"cloneElement",function(){return u}),n.d(e,"Component",function(){return M}),n.d(e,"render",function(){return O}),n.d(e,"rerender",function(){return p}),n.d(e,"options",function(){return r});var r={},i=[],o=[];function s(t,e){var n,s,a,l,u=o;for(l=arguments.length;l-- >2;)i.push(arguments[l]);for(e&&null!=e.children&&(i.length||i.push(e.children),delete e.children);i.length;)if((s=i.pop())&&void 0!==s.pop)for(l=s.length;l--;)i.push(s[l]);else"boolean"==typeof s&&(s=null),(a="function"!=typeof t)&&(null==s?s="":"number"==typeof s?s=String(s):"string"!=typeof s&&(a=!1)),a&&n?u[u.length-1]+=s:u===o?u=[s]:u.push(s),n=a;var c=new function(){};return c.nodeName=t,c.children=u,c.attributes=null==e?void 0:e,c.key=null==e?void 0:e.key,void 0!==r.vnode&&r.vnode(c),c}function a(t,e){for(var n in e)t[n]=e[n];return t}var l="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function u(t,e){return s(t.nodeName,a(a({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}var c=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,h=[];function f(t){!t._dirty&&(t._dirty=!0)&&1==h.push(t)&&(r.debounceRendering||l)(p)}function p(){var t,e=h;for(h=[];t=e.pop();)t._dirty&&P(t)}function d(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&v(t,e.nodeName):n||t._componentConstructor===e.nodeName}function v(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function g(t){var e=a({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function m(t){var e=t.parentNode;e&&e.removeChild(t)}function _(t,e,n,r,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||i)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var o in n)o in r||(t.style[o]="");for(var o in r)t.style[o]="number"==typeof r[o]&&!1===c.test(o)?r[o]+"px":r[o]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,b,s):t.removeEventListener(e,b,s),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!i&&e in t)!function(t,e,n){try{t[e]=n}catch(t){}}(t,e,null==r?"":r),null!=r&&!1!==r||t.removeAttribute(e);else{var a=i&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function b(t){return this._listeners[t.type](r.event&&r.event(t)||t)}var x=[],y=0,w=!1,E=!1;function T(){for(var t;t=x.pop();)r.afterMount&&r.afterMount(t),t.componentDidMount&&t.componentDidMount()}function C(t,e,n,r,i,o){y++||(w=null!=i&&void 0!==i.ownerSVGElement,E=null!=t&&!("__preactattr_"in t));var s=U(t,e,n,r,o);return i&&s.parentNode!==i&&i.appendChild(s),--y||(E=!1,o||T()),s}function U(t,e,n,r,i){var o=t,s=w;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),R(t,!0))),o.__preactattr_=!0,o;var a=e.nodeName;if("function"==typeof a)return function(t,e,n,r){var i=t&&t._component,o=i,s=t,a=i&&t._componentConstructor===e.nodeName,l=a,u=g(e);for(;i&&!l&&(i=i._parentComponent);)l=i.constructor===e.nodeName;i&&l&&(!r||i._component)?(N(i,u,3,n,r),t=i.base):(o&&!a&&(I(o),t=s=null),i=B(e.nodeName,u,n),t&&!i.nextBase&&(i.nextBase=t,s=null),N(i,u,1,n,r),t=i.base,s&&t!==s&&(s._component=null,R(s,!1)));return t}(t,e,n,r);if(w="svg"===a||"foreignObject"!==a&&w,a=String(a),(!t||!v(t,a))&&(o=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}(a,w),t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),R(t,!0)}var l=o.firstChild,u=o.__preactattr_,c=e.children;if(null==u){u=o.__preactattr_={};for(var h=o.attributes,f=h.length;f--;)u[h[f].name]=h[f].value}return!E&&c&&1===c.length&&"string"==typeof c[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=c[0]&&(l.nodeValue=c[0]):(c&&c.length||null!=l)&&function(t,e,n,r,i){var o,s,a,l,u,c=t.childNodes,h=[],f={},p=0,v=0,g=c.length,_=0,b=e?e.length:0;if(0!==g)for(var x=0;x<g;x++){var y=c[x],w=y.__preactattr_,E=b&&w?y._component?y._component.__key:w.key:null;null!=E?(p++,f[E]=y):(w||(void 0!==y.splitText?!i||y.nodeValue.trim():i))&&(h[_++]=y)}if(0!==b)for(var x=0;x<b;x++){l=e[x],u=null;var E=l.key;if(null!=E)p&&void 0!==f[E]&&(u=f[E],f[E]=void 0,p--);else if(!u&&v<_)for(o=v;o<_;o++)if(void 0!==h[o]&&d(s=h[o],l,i)){u=s,h[o]=void 0,o===_-1&&_--,o===v&&v++;break}u=U(u,l,n,r),a=c[x],u&&u!==t&&u!==a&&(null==a?t.appendChild(u):u===a.nextSibling?m(a):t.insertBefore(u,a))}if(p)for(var x in f)void 0!==f[x]&&R(f[x],!1);for(;v<=_;)void 0!==(u=h[_--])&&R(u,!1)}(o,c,n,r,E||null!=u.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||_(t,r,n[r],n[r]=void 0,w);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||_(t,r,n[r],n[r]=e[r],w)}(o,e.attributes,u),w=s,o}function R(t,e){var n=t._component;n?I(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||m(t),S(t))}function S(t){for(t=t.lastChild;t;){var e=t.previousSibling;R(t,!0),t=e}}var A={};function B(t,e,n){var r,i=A[t.name];if(t.prototype&&t.prototype.render?(r=new t(e,n),M.call(r,e,n)):((r=new M(e,n)).constructor=t,r.render=L),i)for(var o=i.length;o--;)if(i[o].constructor===t){r.nextBase=i[o].nextBase,i.splice(o,1);break}return r}function L(t,e,n){return this.constructor(t,n)}function N(t,e,n,i,o){t._disable||(t._disable=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,i),i&&i!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=i),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===r.syncComponentUpdates&&t.base?f(t):P(t,1,o)),t.__ref&&t.__ref(t))}function P(t,e,n,i){if(!t._disable){var o,s,l,u=t.props,c=t.state,h=t.context,f=t.prevProps||u,p=t.prevState||c,d=t.prevContext||h,v=t.base,m=t.nextBase,_=v||m,b=t._component,w=!1;if(v&&(t.props=f,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(u,c,h)?w=!0:t.componentWillUpdate&&t.componentWillUpdate(u,c,h),t.props=u,t.state=c,t.context=h),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!w){o=t.render(u,c,h),t.getChildContext&&(h=a(a({},h),t.getChildContext()));var E,U,S=o&&o.nodeName;if("function"==typeof S){var A=g(o);(s=b)&&s.constructor===S&&A.key==s.__key?N(s,A,1,h,!1):(E=s,t._component=s=B(S,A,h),s.nextBase=s.nextBase||m,s._parentComponent=t,N(s,A,0,h,!1),P(s,1,n,!0)),U=s.base}else l=_,(E=b)&&(l=t._component=null),(_||1===e)&&(l&&(l._component=null),U=C(l,o,h,n||!v,_&&_.parentNode,!0));if(_&&U!==_&&s!==b){var L=_.parentNode;L&&U!==L&&(L.replaceChild(U,_),E||(_._component=null,R(_,!1)))}if(E&&I(E),t.base=U,U&&!i){for(var M=t,O=t;O=O._parentComponent;)(M=O).base=U;U._component=M,U._componentConstructor=M.constructor}}if(!v||n?x.unshift(t):w||(t.componentDidUpdate&&t.componentDidUpdate(f,p,d),r.afterUpdate&&r.afterUpdate(t)),null!=t._renderCallbacks)for(;t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);y||i||T()}}function I(t){r.beforeUnmount&&r.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?I(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.nextBase=e,m(e),function(t){var e=t.constructor.name;(A[e]||(A[e]=[])).push(t)}(t),S(e)),t.__ref&&t.__ref(null)}function M(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{}}function O(t,e,n){return C(n,t,{},!1,e,!1)}a(M.prototype,{setState:function(t,e){var n=this.state;this.prevState||(this.prevState=a({},n)),a(n,"function"==typeof t?t(n,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),f(this)},forceUpdate:function(t){t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),P(this,2)},render:function(){}});var k={h:s,createElement:s,cloneElement:u,Component:M,render:O,rerender:p,options:r};e.default=k},function(t,e,n){var r,i,o,s,a;o=n(2),({render:a,h:s,Component:i}=n(0)),n(5),r=class extends i{constructor(t){super(t),this.state={time:1}}render(t,e){return s("div",{className:"main"},s(o,{time:this.state.time,size:150,onClick:()=>{var t;return t=this.state.time<0?1:-1,this.setState({time:t})}}))}},window.app=a(s(r),document.body)},function(t,e,n){var r,i,o,s,a,l,u=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};({h:a,Component:i}=n(0)),({Shader:s,Box:r}=n(3)),l=n(4),(o=class t extends i{constructor(){super(...arguments),this.onClick=this.onClick.bind(this),this.draw=this.draw.bind(this)}componentDidMount(){if(this._t=.1,this.base.width=this.props.size||50,this.base.height=this.props.size||50,this.box=new r({canvas:this.base,resize:!1,clearColor:[0,0,0,0],uv:[1,1],context:{premultipliedAlpha:!1,antialias:!1,depth:!1}}),this.shader=new s({source:l,uniforms:{iTime:{type:"1f",value:0},alpha:{type:"1f",value:0},size:{type:"1f",value:this.props.size||50}}}),this.stage={alpha:-4,time:-1},this.state={alpha:this.props.alpha,time:1},this.box.add(this.shader),!this._anim)return this._anim=!0,this.draw()}onClick(){return u(this,t),this.draw()}draw(){if(u(this,t),this.base&&!(Math.abs(this.stage.time-this.state.time)<.01&&Math.abs(this.stage.alpha-this.state.alpha)<.01))return this.stage.time+=.1*(this.state.time-this.stage.time),this.stage.alpha+=.3*(this.state.alpha-this.stage.alpha),this.shader.uniforms.iTime.value=this.stage.time,this.shader.uniforms.alpha.value=this.stage.alpha,requestAnimationFrame(this.draw),this.box.clear().draw(this.shader)}componentWillUpdate(t){if(t.time!==this.state.time)return this.state.time=t.time,this.draw()}render(t){var e;return this.base&&(this.base.width=t.size||50,this.base.height=t.size||50,this.shader.uniforms.size.value=t.size||50),e={style:{cursor:"pointer"},width:t.size||50,height:t.size||50},Object.assign(e,t),a("canvas",e)}}).defaultProps={alpha:1},t.exports=o},function(t,e,n){!function(e,n){t.exports=n()}("undefined"!=typeof self&&self,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Box",function(){return i}),n.d(e,"Shader",function(){return o}),r=n(1)();var i=class{constructor(t){var e,n,r,i,o,s;for(this.setViewport=this.setViewport.bind(this),this.canvas=t.canvas,this.grid=t.grid||[1,1],this.shaders=[],this.pos=[],this.gl=this.canvas.getContext("experimental-webgl",t.context||{antialias:!0,depth:!1}),this.gl||alert("failed to start webgl :("),this.focus=-1,this.setViewport(),t.resize&&window.addEventListener("resize",this.setViewport),t.clearColor?this.gl.clearColor(t.clearColor[0],t.clearColor[1],t.clearColor[2],t.clearColor[3]):this.gl.clearColor(0,0,0,1),s=e=0,r=this.grid[1];0<=r?e<r:e>r;s=0<=r?++e:--e)for(o=n=0,i=this.grid[0];0<=i?n<i:n>i;o=0<=i?++n:--n)this.pos.push({x:o,y:s});this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}createBuffer(t,e,n){var r,i,o,s,a;return r=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,r),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(n),this.gl.STATIC_DRAW),i=1-this.grid[0]+2*t,o=this.grid[1]-1-2*e,r.u_move={origin:[i,o],state:[i,o],stage:[i,o]},s=1/this.grid[0],a=1/this.grid[1],r.u_scale={origin:[s,a],state:[s,a],stage:[s,a]},r}setViewport(){var t,e,n,r,i;for(this.canvas.width=this.width=this.canvas.clientWidth,this.canvas.height=this.height=this.canvas.clientHeight,this.gl.viewport(0,0,this.width,this.height),r=[],t=0,e=(n=this.shaders).length;t<e;t++)i=n[t],r.push(i.setUvBuffer(i.index));return r}add(t){return t.init(this,this.shaders.length),this.shaders.push(t),this}clear(){return this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this}draw(t){var e,n,r,i,o,s,a;if(!t.gl)throw new Error("shader has not been added.");for(n=n||0,a=t.vert_buffer,this.gl.useProgram(t.program),t.updateUvBuffer(),this.focus>=0?t.index===this.focus?(a.u_move.state[0]=a.u_move.state[1]=0,a.u_scale.state[0]=a.u_scale.state[1]=1):a.u_scale.state[0]=a.u_scale.state[1]=0:(a.u_move.state[0]=a.u_move.origin[0],a.u_move.state[1]=a.u_move.origin[1],a.u_scale.state[0]=a.u_scale.origin[0],a.u_scale.state[1]=a.u_scale.origin[1]),a.u_move.stage[0]+=.25*(a.u_move.state[0]-a.u_move.stage[0]),a.u_move.stage[1]+=.25*(a.u_move.state[1]-a.u_move.stage[1]),a.u_scale.stage[0]+=.25*(a.u_scale.state[0]-a.u_scale.stage[0]),a.u_scale.stage[1]+=.25*(a.u_scale.state[1]-a.u_scale.stage[1]),this.gl.uniform2f(t.u_move,a.u_move.stage[0],a.u_move.stage[1]),this.gl.uniform2f(t.u_scale,a.u_scale.stage[0],a.u_scale.stage[1]),r=0,i=(o=t._uniforms).length;r<i;r++)(s=o[r]).isArray?s.set(s.loc,t.uniforms[s.name].value):(e=t.uniforms[s.name]).value.length?s.set(s.loc,e.value[0],e.value[1],e.value[2],e.value[3]):s.set(s.loc,e.value);return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a),this.gl.vertexAttribPointer(t.a_position,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(t.a_position),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.uv_buffer),this.gl.vertexAttribPointer(t.a_texture,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(t.a_texture),t.texture&&(this.gl.bindTexture(this.gl.TEXTURE_2D,t.texture),this.gl.uniform1i(t.u_texture,0)),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this}},o=class{constructor(t){this.code=t.source,this.textureUrl=t.textureUrl,this.uniforms=t.uniforms,this._uniforms=[],this.focus=!1,this.uv=t.uv||[1,1]}updateUvBuffer(){return this.box.focus!==this.index||this.focus?this.box.focus!==this.index&&this.focus?(this.focus=!1,this.setUvBuffer(this.index)):void 0:(this.focus=!0,this.setUvBuffer(this.index))}setUvBuffer(t){var e,n,r,i;return this.focus?(n=this.box.width/this.uv[0],e=this.box.height/this.uv[1]):(n=this.box.width/this.uv[0]/this.box.grid[0],e=this.box.height/this.uv[1]/this.box.grid[1]),i=.5-e/n/2,(r=.5-n/e/2)>0?i=0:r=0,this.uv_buffer=this.box.createBuffer(this.box.pos[t].x,this.box.pos[t].y,[r,1-i,r,i,1-r,1-i,1-r,0+i])}setVertBuffer(t){return this.vert_buffer=this.box.createBuffer(this.box.pos[t].x,this.box.pos[t].y,[-1,-1,-1,1,1,-1,1,1])}init(t,e){var n,i,o,s,a,l;for(i in this.box=t,this.index=e,this.setUvBuffer(this.index),this.setVertBuffer(this.index),this.gl=this.box.gl,this.program=this.createProgram(r,this.code),this.a_position=this.gl.getAttribLocation(this.program,"a_position"),this.a_texture=this.gl.getAttribLocation(this.program,"a_texture"),this.u_move=this.gl.getUniformLocation(this.program,"u_move"),this.u_scale=this.gl.getUniformLocation(this.program,"u_scale"),this.u_texture=this.gl.getUniformLocation(this.program,"u_texture"),this.textureUrl&&(this.texture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),(n=new Image).src=this.textureUrl,n.addEventListener("load",t=>(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,n),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.setUvBuffer(this.index)))),s=[],o=this.uniforms)l=o[i],a={loc:this.gl.getUniformLocation(this.program,i),set:this.gl["uniform"+l.type].bind(this.gl),name:i,isArray:null!=l.type.match(/v$/)},s.push(this._uniforms.push(a));return s}createProgram(t,e){var n,r,i;if(n=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.gl.shaderSource(n,e),this.gl.compileShader(n),!this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS))throw new Error("\nFRAGMENT_COMPILE_ERROR:\n\n"+this.gl.getShaderInfoLog(n)+"\nSOURCE:\n\n"+this.gl.getShaderSource(n));if(i=this.gl.createShader(this.gl.VERTEX_SHADER),this.gl.shaderSource(i,t),this.gl.compileShader(i),!this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS))throw new Error("\nVERTEX_COMPILE_ERROR:\n\n"+this.gl.getShaderInfoLog(i)+"\nSOURCE:\n\n"+gl.getShaderSource(i));if(r=this.gl.createProgram(),this.gl.attachShader(r,n),this.gl.attachShader(r,i),this.gl.linkProgram(r),!this.gl.getProgramParameter(r,this.gl.LINK_STATUS))throw new Error("SHADER_LINK_"+this.gl.getProgramInfoLog(r));return r}}},function(t,e){t.exports=(t=>"attribute vec2 a_position;\nattribute vec2 a_texture;\nuniform vec2 u_move;\nuniform vec2 u_scale;\nvarying vec2 v_uv;\nvoid main() {\n\tgl_Position = vec4((a_position + u_move) * u_scale, 0.0, 1.0);\n\tv_uv = a_texture;\n}\n")}])})},function(t,e){t.exports="precision highp float;\n\nvarying vec2 v_uv;\n\nuniform float iTime;\n\nuniform float size;\n\nuniform float alpha;\n\n\n#define SPEED 0.01\n#define PI 3.141593\n\n\n//signed distance to a 2D triangle by iq : https://www.shadertoy.com/view/XsXSz4\nfloat sdTriangle( in vec2 p0, in vec2 p1, in vec2 p2, in vec2 p ){\n    vec2 e0 = p1 - p0;\n    vec2 e1 = p2 - p1;\n    vec2 e2 = p0 - p2;\n\n    vec2 v0 = p - p0;\n    vec2 v1 = p - p1;\n    vec2 v2 = p - p2;\n\n    vec2 pq0 = v0 - e0*clamp( dot(v0,e0)/dot(e0,e0), 0.0, 1.0 );\n    vec2 pq1 = v1 - e1*clamp( dot(v1,e1)/dot(e1,e1), 0.0, 1.0 );\n    vec2 pq2 = v2 - e2*clamp( dot(v2,e2)/dot(e2,e2), 0.0, 1.0 );\n    \n    float s = sign( e0.x*e2.y - e0.y*e2.x );\n    vec2 d = min( min( vec2( dot( pq0, pq0 ), s*(v0.x*e0.y-v0.y*e0.x) ),\n                       vec2( dot( pq1, pq1 ), s*(v1.x*e1.y-v1.y*e1.x) )),\n                       vec2( dot( pq2, pq2 ), s*(v2.x*e2.y-v2.y*e2.x) ));\n\n    return -sqrt(d.x)*sign(d.y);\n}\n\nfloat pit = PI*2.0/3.0; \n\nfloat a0 = 0.*PI*2.0/3.0;\nfloat a1 = 1.*PI*2.0/3.0; \nfloat a2 = 2.*PI*2.0/3.0;\n\n\nfloat b = 0.01;\nfloat r = 0.2;\n\n\nfloat drawStar(vec2 uv,float t,float bend){\n\n    float angle_offset = mod(sin(t),pit) - bend;\n    vec2 v0 = vec2(cos(a0-angle_offset)*r,sin(a0-angle_offset)*r);\n    vec2 v1 = vec2(cos(a1-angle_offset)*r,sin(a1-angle_offset)*r);\n    vec2 v2 = vec2(cos(a2-angle_offset)*r,sin(a2-angle_offset)*r);\n    return sdTriangle( v0, v1, v2, uv);   \n}\n\nvoid main(){\n    float t = iTime;\n    float rot = sin(t);\n    float alpha = clamp(alpha,0.0001,1.0);\n    vec2 uv = -1.0 * vec2(v_uv-0.5)*0.5/alpha;\n    float dist = pow(length(uv*5.0),.5);\n    float twist = (rot/pit) * 6.0;\n    float bend = dist * twist - twist*.75;\n\n\n    float d = drawStar(uv,t,bend);\n    float col = clamp(d*size*1.6,.0,1.);\n\n    // d = drawStar(uv,t+0.5,bend);\n    // float col2 = clamp(d*size*1.6,.0,1.);\n\n    // d = drawStar(uv,-t*.5,bend);\n    // float col3 = clamp(d*90.0,.0,1.);\n\n\n\n    gl_FragColor = vec4(vec3(0.25),1.0-col);\n}"},function(t,e,n){var r=n(6);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(8)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(7)(!1)).push([t.i,".main {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){var r={},i=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),o=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),s=null,a=0,l=[],u=n(9);function c(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=r[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(g(i.parts[s],e))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(g(i.parts[s],e));r[i.id]={id:i.id,refs:1,parts:a}}}}function h(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function f(t,e){var n=o(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function d(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(e,t.attrs),f(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var l=a++;n=s||(s=d(e)),r=_.bind(null,n,l,!1),i=_.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),f(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=u(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),i=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){p(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return c(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var s=n[o];(a=r[s.id]).refs--,i.push(a)}t&&c(h(t,e),e);for(o=0;o<i.length;o++){var a;if(0===(a=i[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete r[a.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function _(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}}]);
//# sourceMappingURL=view.js.map